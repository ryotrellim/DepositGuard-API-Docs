<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>DepositGuard API</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["HTTP"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="HTTP">HTTP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="depositguard-api">DepositGuard API</h1>

<p>The DepositGuard API offers simple and secure ways to create, fund, and manage escrow accounts for vacation and rental properties.</p>

<blockquote>
<p>Example HTTP requests and responses are available below.</p>
</blockquote>

<h3 id="typical-flow">Typical Flow</h3>

<ol>
<li> Create an agreement.</li>
<li> Collect payment methods.</li>
<li> Deposit funds into escrow.</li>
<li> Collect payout methods.</li>
<li> Disburse security deposits and fees.</li>
</ol>

<h1 id="technical-overview">Technical Overview</h1>

<h3 id="important-headers">Important Headers</h3>

<ul>
<li>The only supported <code class="prettyprint">content-type</code> is &ldquo;application/json&rdquo; and is required in every request.</li>
<li>An <code class="prettyprint">authorization</code> header is required in every request.</li>
<li>A <code class="prettyprint">location</code> header is returned any time a resource is created.  The resource identifier can be attained by parsing the url returned.</li>
</ul>

<h3 id="root-uri">Root URI</h3>

<p>Use <code class="prettyprint">http://api.depositguard.net</code> as your root.  For example, authorization would occur at <code class="prettyprint">http://api.depositguard.net/oauth/token</code>.</p>

<h3 id="need-access-or-help">Need Access or Help?</h3>

<p>Request credentials to the DepositGuard API or ask for assistance by emailing <a href="mailto:api@depositguard.com">api@depositguard.com</a>.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>Unlike all subsequent requests, the authentication endpoint requires the &ldquo;application/x-www-form-urlencoded&rsquo; content-type.</p>
</blockquote>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token_authenticated</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic &lt;Base64 encoded string of “clientId:secret”&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

grant_type=client_credentials
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Access-Token&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">28800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Authenticate your application to make requests using an OAuth2 client credentials pattern.  Your application will then be <em>authorized</em> to manage any resources (agreements, payment methods, etc.) that it creates or owns.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>input body</td>
<td>String</td>
<td>The simple string &quot;grant_type=client_credentials&rdquo; is the only input accepted.</td>
</tr>
<tr>
<td>authorization header</td>
<td>String</td>
<td>Use HTTP basic auth for the initial request.  This is the <em>only</em> resource that should use your clientId and secret.  To make test calls, use these credentials: </br></br> ClientId = <code class="prettyprint">TestClientId</code> </br></br> Secret = <code class="prettyprint">TestSecret</code></td>
</tr>
</tbody></table>

<h3 id="response-reference">Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>Prepend this string with &ldquo;Bearer&rdquo; (the token type) and use it as the authorization header in all requests until it expires.</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>Indicates that whoever has this token is given access.  &ldquo;Bearer&rdquo; is the only token type supported at this time.</td>
</tr>
<tr>
<td>expires_in</td>
<td>Integer</td>
<td>Time in milleseconds until the access token expires and a new one must be attained.</td>
</tr>
</tbody></table>

<aside class="notice">
It is not possible to refresh the access token.  You must attain another when the token expires.
</aside>

<h1 id="agreements">Agreements</h1>

<h2 id="create-agreement">Create Agreement</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"dates"</span><span class="p">:{</span><span class="w">
       </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-dd 12:34:56Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-dd 12:34:56Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms of the agreement go here"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"renter"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"renter@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"landlord"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"landlord@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db</span>

</code></pre>

<p>An agreement is required before transfering funds to the DepositGuard escrow and should be communicated and agreed to by all parties involved.</p>

<p>All fields are required unless otherwise marked <code class="prettyprint">optional</code>.</p>

<h3 id="request-reference">Request Reference</h3>

<p></br>
<strong>Root</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>external_id</td>
<td>String</td>
<td><code class="prettyprint">Optional.</code>  Can be used to match DepositGuard agreements with the integrator&rsquo;s systems.</td>
</tr>
</tbody></table>

<p></br>
<strong>Terms</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>ISO 8601 string</td>
<td>The start date for when the property will be occupied.</td>
</tr>
<tr>
<td>end_date</td>
<td>ISO 8601 string</td>
<td>The end date for when the property will be vacated.</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>Should be used to record the full terms of the rental agreement.</td>
</tr>
</tbody></table>

<p></br>
<strong>Renter &amp; Landlord</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>last_name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Should be stripped of dashes and periods.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Must be a valid email address.</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>Full city name.  US-only.</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>Use the ANSI 2-letter state code.  US-only.</td>
</tr>
<tr>
<td>postal_code</td>
<td>String</td>
<td>5-digit postal code.  US-only.</td>
</tr>
<tr>
<td>address_line1</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>address_line2</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-agreement">Get Agreement</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"agreement_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d646e985-b895-4fb6-b121-b221e5daa9db"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"dates"</span><span class="p">:{</span><span class="w">
       </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-dd 12:34:56Z"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-dd 12:34:56Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms of the agreement go here"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"renter"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"renter@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"landlord"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"landlord@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Fetching the agreement shows the same information used to create it, with the exception of a couple properties.</p>

<h3 id="response-reference">Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agreement_id</td>
<td>GUID</td>
<td>Globally unique identifier of the agreement.  Not editable.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>The current status of the agreement.  Values include: </br></br><code class="prettyprint">active</code> - The default staus of a new agreement</br></br><code class="prettyprint">completed</code> - Used when a an agreement terms are satisfied and disbursement is complete</br></br><code class="prettyprint">cancelled</code> - Used when an agreement is no longer valid.</td>
</tr>
</tbody></table>

<h2 id="modify-agreement">Modify Agreement</h2>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>Modifying an agreement requires a <em>full PUT</em>, meaning the entire agreement must be re-submitted if any part changes.</p>

<h3 id="response-reference">Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agreement_id</td>
<td>GUID</td>
<td>Globally unique identifier of the agreement.  Not editable.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>The current status of the agreement.  Values include: </br></br><code class="prettyprint">active</code> - The default staus of a new agreement</br></br><code class="prettyprint">completed</code> - Used when a an agreement terms are satisfied and disbursement is complete</br></br><code class="prettyprint">cancelled</code> - Used when an agreement is no longer valid.</td>
</tr>
</tbody></table>

<h2 id="cancel-agreement">Cancel Agreement</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"renter cancelled trip."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/history</span>
</code></pre>

<p>Cancels the agreement and all payments and payouts.  The agreement cannot be re-activated or resumed.  This can only be performed prior to the first payment.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note</td>
<td>String</td>
<td><code class="prettyprint">Optional.</code> Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h2 id="complete-agreement">Complete Agreement</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/complete</span>
</code></pre>

<p>Completes the agreement.  Use this when the agreement terms are fulfilled and all parties are satisfied.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note</td>
<td>String</td>
<td><code class="prettyprint">Optional.</code> Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h2 id="agreement-notes">Agreement Notes</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"renter requested and was sent images of property"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/notes</span>
</code></pre>

<p>Add an additional note to the agreement.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note</td>
<td>String</td>
<td>Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h2 id="agreement-history">Agreement History</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/history</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"agreement_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"events"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agreement_created"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"note"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"renter requested and was sent images of property"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agreement_modified"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-23T13:15:30Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"half of deposit"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"charge"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"half of deposit"</span><span class="p">,</span><span class="w">
    </span><span class="err">}</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agreement_complete"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disbursement"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full disbursement"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-20T13:15:30Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a complete history of actions related to the agreement including financial logs.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agreement_id</td>
<td>GUID</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Kind of event.  Values include: <code class="prettyprint">agreement_created</code>, <code class="prettyprint">agreement_modified</code>, <code class="prettyprint">agreement_complete</code>, <code class="prettyprint">agreement_cancelled</code>, <code class="prettyprint">deposit</code>, <code class="prettyprint">disburse</code>, and <code class="prettyprint">note</code></td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td>Returned if any note was left.</td>
</tr>
</tbody></table>

<h1 id="payments">Payments</h1>

<h2 id="capture-payment-method">Capture Payment Method</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/paymentmethods</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John B. Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cvv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/paymentmethods/6dcbd862-e01d-4639-a5b4-774bda55ed09</span>


</code></pre>

<p>The renter needs to provide payment information to fund the escrow account and eventually pay the landlord.  Use the external_customer_id property to connect the payment method to the user in your system.</p>

<aside class="notice">
Payments can only be made with a credit card.</br>
</aside>

<aside class="notice">
Payment methods are not explicitly associated with a user or with an agreement.
</aside>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>external_id</td>
<td>String</td>
<td><code class="prettyprint">Optional.</code>  Can be used to match DepositGuard payment methods with the integrator&rsquo;s systems.</td>
</tr>
<tr>
<td>number</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>cvv</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>exp_month</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>exp_year</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>postal_code</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>address_line1</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>address-line2</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-payment-method">Get Payment Method</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/paymentmethods/6dcbd862-e01d-4639-a5b4-774bda55ed09</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"payment_method_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6dcbd862-e01d-4639-a5b4-774bda55ed09"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John B. Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cvv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Austin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78704"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 4th Street"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 456"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Get a payment method to view its status and details.</p>

<h3 id="response-reference">Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payment_method_id</td>
<td>GUID</td>
<td>Globally unique identifier of the payment method.  Not editable.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>The current status of the payment method.  Values include <code class="prettyprint">active</code> and <code class="prettyprint">expired</code>.</td>
</tr>
</tbody></table>

<h2 id="payment">Payment</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/deposits</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"payment_method_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6dcbd862-e01d-4639-a5b4-774bda55ed09"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">required</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.45"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"half of deposit"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/deposits/eaf557ca-ee95-4939-951a-bd2b2e1047ce</span>

</code></pre>

<p>Authorizes and immediately charges a payment for the specified amount.  The value is held in escrow until a payout is disbursed.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payment_method_id</td>
<td>String</td>
<td>Payment method must be <code class="prettyprint">active</code>.</td>
</tr>
<tr>
<td>total</td>
<td>String</td>
<td>Excludes currency symbol.</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>Only <code class="prettyprint">USD</code> is supported at this time.</td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td>Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h2 id="payment-status">Payment Status</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/deposits/eaf557ca-ee95-4939-951a-bd2b2e1047ce</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"payment_method_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d646e985-b895-4fb6-b121-b221e5daa9db"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"half of deposit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>Check on the status of the payment.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payment_method_id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Values include <code class="prettyprint">complete</code>, <code class="prettyprint">pending</code>, and <code class="prettyprint">failed</code></td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td>Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h1 id="payouts">Payouts</h1>

<h2 id="capture-payout-method">Capture Payout Method</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/payoutmethods</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"951623847"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/payoutmethods/4e3acbb9-b99d-4933-8bf0-8d2fdcd11b03</span>

</code></pre>

<p>The landlord needs to provide disbursement information for DepositGuard to payout to.  Functions the same as above, but has a different form name.</p>

<aside class="notice">
Disbursements can only be made via ACH transfer to a bank account.
</aside>

request-reference&quot;>Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>external_id</td>
<td>String</td>
<td><code class="prettyprint">Optional.</code>  Can be used to match DepositGuard payment methods with the integrator&rsquo;s systems.</td>
</tr>
<tr>
<td>routing_number</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>account_number</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-payout-method">Get Payout Method</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/payoutmethods/4e3acbb9-b99d-4933-8bf0-8d2fdcd11b03</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w">  </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"951623847"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a payout method to view its status and details.</p>

<h3 id="response-reference">Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>String</td>
<td>The current status of the payout method.  Values include <code class="prettyprint">active</code> and <code class="prettyprint">inactive</code>.</td>
</tr>
</tbody></table>

<h2 id="payout">Payout</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/disbursements</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"payout_method_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6dcbd862-e01d-4639-a5b4-774bda55ed09"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.45"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"half of deposit"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Location</span><span class="p">:</span>  <span class="s">http://api.depositguard.net/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/disbursements/eaf557ca-ee95-4939-951a-bd2b2e1047ce</span>

</code></pre>

<p>Disburses funds from the escrow pool.  Typically takes 3 to 7 business days.</p>

<h3 id="request-reference">Request Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payment_method_id</td>
<td>String</td>
<td>Payment method must be <code class="prettyprint">active</code>.</td>
</tr>
<tr>
<td>total</td>
<td>String</td>
<td>Excludes currency symbol.</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>Only <code class="prettyprint">USD</code> is supported at this time.</td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td>Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

<h2 id="payout-status">Payout Status</h2>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/agreements/d646e985-b895-4fb6-b121-b221e5daa9db/disbursements/eaf557ca-ee95-4939-951a-bd2b2e1047ce</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;Access-Token&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.depositguard.net</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "payout_method_id": "d646e985-b895-4fb6-b121-b221e5daa9db", </span>
<span class="s">  "note": "half of deposit",</span>
<span class="s">  "status": "complete",</span>
<span class="s">}</span>
</code></pre>

<p>Disburses funds from the escrow pool.  Typically takes 3 to 7 business days.</p>

response-reference&quot;>Response Reference</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payout_method_id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Values include <code class="prettyprint">complete</code>, <code class="prettyprint">pending</code>, and <code class="prettyprint">failed</code></td>
</tr>
<tr>
<td>note</td>
<td>String</td>
<td>Leaves a note for a historical purposes.</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid input"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">40006</span><span class="p">,</span><span class="w">
            </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms.start_date"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_date is required."</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="status-codes">Status Codes</h3>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>Something is wrong with the request.  Check the error response for details.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>The authorization header is wrong or missing.  Re-authorize at <code class="prettyprint">/oauth/token</code>.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>You&rsquo;re attempting to access a resource that does not belong to you.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>The resource does not exist.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>The resource does not support the method.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>There&rsquo;s a problem on the DepositGuard side.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>DepositGuard is temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="HTTP">HTTP</a>
          </div>
      </div>
    </div>
  </body>
</html>
